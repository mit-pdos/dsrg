
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Cheriton and Skeen - DSRG</title>
  <meta name="author" content="DSRG">

  
  <meta name="description" content="Why did we read this paper? Though from 1993, in its time this paper sparked some controversy,
provoking an impassioned response. We wanted to &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://pdos.csail.mit.edu/dsrg/blog/2013/06/13/cheriton-and-skeen">
  <link href="/dsrg/favicon.png" rel="icon">
  <link href="/dsrg/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/dsrg/atom.xml" rel="alternate" title="DSRG" type="application/atom+xml">
  <script src="/dsrg/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/dsrg/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-968607-14']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/dsrg/">DSRG</a></h1>
  
    <h2>Distributed systems reading group at MIT</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/dsrg/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:pdos.csail.mit.edu/dsrg" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/dsrg/about">About</a></li>
  <li><a href="/dsrg/">Blog</a></li>
  <li><a href="/dsrg/schedule">Schedule</a></li>
  <li><a href="/dsrg/papers">Papers</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Cheriton and Skeen</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-13T16:21:00-04:00" pubdate data-updated="true">Jun 13<span>th</span>, 2013</time>
        
      </p>
    
  </header>


<div class="entry-content"><h2>Why did we read this paper?</h2>

<p>Though from 1993, in its time this paper sparked some controversy,
provoking an impassioned response.  We wanted to understand the debate
about the question of providing ordering guarantees as part of the network.</p>

<h2>What is CATOCS?</h2>

<p>CATOCS stands for &ldquo;causally and totally ordered communication.&rdquo;  It means that
messages are delivered in the order they are sent, as specified by a
<em>happens-before</em> relationship.  A synonym for happens-before is
<em>causally-precedes</em>.  The following is the definition of happens-before:</p>

<p><em>Happens-before</em>: m1 happens before m2 if there exists a P such that
m1 is sent or received at P before P sends m2.</p>

<p>Under causal ordering, concurrent writes may be seen in different
orders at different participants.</p>

<p><em>Total ordering</em> is a stronger property; it ensures that messages are
delivered to all participants in the same order.</p>

<h2>What is wrong with CATOCS?</h2>

<p>Cheriton and Skeen make the point that ensuring CATOCS in the network
is prohibitively expensive, and since most applications need something
stronger than CATOCS anyway (such as transactional consistency), there
is no point in doing so.  They claim that CATOCS violates the
<a href="http://en.wikipedia.org/wiki/End-to-end_principle">End To End principle</a>,
which states that application-specific functionality should reside at
the end nodes of a network, instead of the intermediary nodes.  It is
worth noting that this principle is frequently misapplied.</p>

<p>They identify the following limitations in CATOCS systems:</p>

<ul>
<li><p>Can&rsquo;t say &ldquo;for sure&rdquo;</p>

<p>There are almost always hidden channels in a group of nodes, or
methods of communication not captured by the network.  For example,
processes might all write to a shared database, and writes seen at
that database might not preserve CATOCS.  Similarly, threads on a
single machine might share memory.</p>

<p>They use a contrived example of an independent &ldquo;FIRE&rdquo; message
appearing before an unrelated &ldquo;FIRE OUT&rdquo; message, and thus the
system might appear to not be in a &ldquo;FIRE&rdquo; state, because it
misapplied the unrelated &ldquo;FIRE OUT&rdquo;.</p></li>
<li><p>Can&rsquo;t say &ldquo;together&rdquo;</p>

<p>As stated above, applications often require transactional semantics.
CATOCS does not help with the serialization or atomicity between
<em>groups</em> of messages.  A system with this property obviates the need
for CATOCS.</p></li>
<li><p>Can&rsquo;t say &ldquo;whole story&rdquo;</p>

<p>Happens-before might not be enough.  Applications might require
linearizability or sequential consistency.</p></li>
<li><p>Can&rsquo;t say &ldquo;efficiently&rdquo;</p>

<p>They claim CATOCS protocols don&rsquo;t show any efficiency gains over
state-level techniques, and in fact are very inefficient.
Unfortunately the paper does not provide actuala measurements.</p>

<p>False causality could be an issue; happens-before enforces ordering
that the application might not care about.</p></li>
</ul>


<p>Cheriton and Skeen would prefer to see state-level and
application-specific ordering techniques.</p>

<h2>A Response</h2>

<p>Birman sees this paper as a critique of Isis, and claims that Cheriton
and Skeen misrepresented the true debate.  CATOCS should not be
considered in isolation, but when transactional semantics are
required, techniques like <em>virtual synchrony</em> should be used in
conjunction with CATOCS.</p>

<p>Birman makes the point that application developers should not even
need to consider their semantic ordering needs, instead the network
should provide guarantees for them, reducing user-visible design
complexity.</p>

<p>He also claims that their assumptions about overhead are completely off.</p>

<h2>Conclusion</h2>

<p>This seems founded in a more general debate &mdash; should systems developers aim
for efficiency and performance first, giving application developers
total control but leaving them to layer safety accordingly, or should they
apply an unknown cost to all users, making strong semantics an
indelible part of the system?</p>

<p>In the space of datastores, the former argument seems to have &ldquo;won&rdquo;.
Most application developers do not run their databases with
serializability or even other forms of slightly weaker consistency.
There is a move towards general key/value stores which do not provide
transactions or any ordering guarantees and might not necessarily pay
the penalty of writing to disk for durability.  It seems as though
application developers have chosen performance over safety, and
developed techniques to accomodate inconsistencies on their own (one
of which might be simply ignoring them).</p>

<p>We found it extremely difficult to reason about these two papers
without looking at a real system with a concrete design.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">DSRG</span></span>

      








  


<time datetime="2013-06-13T16:21:00-04:00" pubdate data-updated="true">Jun 13<span>th</span>, 2013</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://pdos.csail.mit.edu/dsrg/blog/2013/06/13/cheriton-and-skeen/" data-via="" data-counturl="http://pdos.csail.mit.edu/dsrg/blog/2013/06/13/cheriton-and-skeen/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/dsrg/blog/2013/06/06/pacifica/" title="Previous Post: PacificA">&laquo; PacificA</a>
      
      
        <a class="basic-alignment right" href="/dsrg/blog/2013/06/20/vr-revisited/" title="Next Post: VR Revisited">VR Revisited &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/dsrg/blog/2013/07/03/thialfi/">Thialfi</a>
      </li>
    
      <li class="post">
        <a href="/dsrg/blog/2013/06/20/vr-revisited/">VR Revisited</a>
      </li>
    
      <li class="post">
        <a href="/dsrg/blog/2013/06/13/cheriton-and-skeen/">Cheriton and Skeen</a>
      </li>
    
      <li class="post">
        <a href="/dsrg/blog/2013/06/06/pacifica/">PacificA</a>
      </li>
    
      <li class="post">
        <a href="/dsrg/blog/2013/05/30/spanner/">Spanner</a>
      </li>
    
      <li class="post">
        <a href="/dsrg/blog/2013/05/23/raft/">Raft</a>
      </li>
    
  </ul>
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - DSRG -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'dsrg';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://pdos.csail.mit.edu/dsrg/blog/2013/06/13/cheriton-and-skeen/';
        var disqus_url = 'http://pdos.csail.mit.edu/dsrg/blog/2013/06/13/cheriton-and-skeen/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
