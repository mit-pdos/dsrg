<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Discretized Streams</title>
  <meta name="description" content="Why did we read this paper?">

  <base href="/" />
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://dsrg.pdos.csail.mit.edu/2013/09/30/spark-streaming.html">
  <link rel="alternate" type="application/rss+xml" title="Distributed Systems Reading Group" href="http://dsrg.pdos.csail.mit.edu/feed.xml" />
  <link href='/stylesheets/all-b5d41f4fa671ec94597e984da68527b0.css' media='all' rel='stylesheet' type='text/css'>
</head>

  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Distributed Systems Reading Group</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/about/">About</a>
          
        
          
        
          
        
          
        
          
          <a class="page-link" href="/papers/">Papers</a>
          
        
          
          <a class="page-link" href="/schedule/">Schedule</a>
          
        
      </div>
    </nav>

  </div>

</header>

    <div class="page-content">
      <div class="wrapper">
        <aside class="recent-posts">
  <h2>Recent posts</h2>
  <ul>
      
        <li>
          <span class="post-meta">Jan 10, 2014</span>
          <h2>
            <a class="post-link" href="/2014/01/10/epaxos.html">EPaxos</a>
          </h2>
        </li>
      
        <li>
          <span class="post-meta">Dec 16, 2013</span>
          <h2>
            <a class="post-link" href="/2013/12/16/sinfonia.html">Sinfonia</a>
          </h2>
        </li>
      
        <li>
          <span class="post-meta">Sep 30, 2013</span>
          <h2>
            <a class="post-link" href="/2013/09/30/spark-streaming.html">Discretized Streams</a>
          </h2>
        </li>
      
        <li>
          <span class="post-meta">Sep 30, 2013</span>
          <h2>
            <a class="post-link" href="/2013/09/30/spanstore.html">SPANStore</a>
          </h2>
        </li>
      
        <li>
          <span class="post-meta">Aug 8, 2013</span>
          <h2>
            <a class="post-link" href="/2013/08/08/chain-replication.html">Chain Replication</a>
          </h2>
        </li>
      
        <li>
          <span class="post-meta">Jul 25, 2013</span>
          <h2>
            <a class="post-link" href="/2013/07/25/mdcc.html">MDCC</a>
          </h2>
        </li>
      
        <li>
          <span class="post-meta">Jul 18, 2013</span>
          <h2>
            <a class="post-link" href="/2013/07/18/coralcdn.html">CoralCDN</a>
          </h2>
        </li>
      
        <li>
          <span class="post-meta">Jul 11, 2013</span>
          <h2>
            <a class="post-link" href="/2013/07/11/zookeeper.html">Zookeeper</a>
          </h2>
        </li>
      
        <li>
          <span class="post-meta">Jul 3, 2013</span>
          <h2>
            <a class="post-link" href="/2013/07/03/thialfi.html">Thialfi</a>
          </h2>
        </li>
      
        <li>
          <span class="post-meta">Jun 20, 2013</span>
          <h2>
            <a class="post-link" href="/2013/06/20/vr-revisited.html">VR Revisited</a>
          </h2>
        </li>
      
  </ul>
</aside>
<div class="post">

  <header class="post-header">
    <h1 class="post-title">Discretized Streams</h1>
    <p class="post-meta">Sep 30, 2013</p>
  </header>

  <article class="post-content">
    <h2 id="why-did-we-read-this-paper">Why did we read this paper?</h2>

<p><a href="http://sigops.org/sosp/sosp13/papers/p423-zaharia.pdf">Discretized Streams: Fault Tolerant Computing at Scale</a> 
describes additions to the
<a href="http://www.cs.berkeley.edu/~matei/papers/2012/nsdi_spark.pdf">Spark</a> system to
handle streaming data. Compared to other streaming systems, Spark Streaming
offers a more robust fault recovery and straggler handling strategies using the Resilient
Distributed Dataset (RDD) memory abstraction. In addition to allowing parallel
recovery, Spark Streaming is one of the first systems which can
incorporate batch and interactive query models all within the same system.</p>

<h2 id="what-are-rdds">What are RDDs?</h2>

<p>RDDs are a memory abstraction model described in the original
<a href="http://www.cs.berkeley.edu/~matei/papers/2012/nsdi_spark.pdf">Spark</a>
paper.  They are immutable and only allow a specified set of
functional-like transformations to be operated on them. However, these
seemingly constraining properties allow the computation done on RDDs
to be completely deterministic, and RDDs can be computed in parallel
without having to worry about synchronization. Another really
interesting aspect of RDDs are their resilience to faults. By tracking
the lineage of transformations done on RDDs, we can reconstruct any
lost RDDs by simply retracing the lineage and recomputing from the
source RDDs.</p>

<h2 id="stream-discretization">Stream Discretization</h2>

<p>Spark Streaming is different from other streaming systems in that it
discretizes streaming input using a sliding window. The discretized input are
turned into RDDs and Spark Streaming can then perform small batch operations on
them as it would have in general batched mode. By converting the input streaming
data into batched RDDs, Spark Streaming can easily intermix between the
streaming model and the general batched model because it operates over the same
RDD abstraction.</p>

<h2 id="tracking">Tracking</h2>

<p>Typically, streaming systems employ a constant operator model in which several
constantly running workers wait for streaming data, operate on them, and output
the data. Spark Streaming differs from this model in that it expresses all the
operations done on the data through the RDDs. The worker nodes maintain no
state of their own. If state is needed to operate on the data, Spark Streaming
employs a special track operation, which provides access to a key-value store
(structured as an RDD). The state for any data can be stored as a value in the
key-value store and can be accessed again using the same key.</p>

<h2 id="parallel-recovery">Parallel Recovery</h2>

<p>When a fault occurs, the Spark Streaming model simply recalculates the RDDs that
have been destroyed by retracing through the lineage of the graph. However,
because the RDDs are immutable and deterministic, recomputation can be performed
in parallel both in time and partition. This allows Spark Streaming model to
have fault-recovery times on the order of seconds and tens of seconds, while
existing systems take minutes.</p>

<h2 id="stragglers">Stragglers</h2>

<p>Once again because RDDs are immutable and deterministic, Spark Streaming can
perform speculative replication to handle any stragglers. It is not a problem if
an RDD is computed twice because transformations on an RDD is deterministic, so
no synchronization needs to take place when actually storing the RDD.</p>

<h2 id="comments">Comments</h2>

<p>Overall, using RDDs to operate on streaming data provides a nice clean solution
for fault-recovery and stragglers. Also, this idea of discretizing streaming
data could lead to interesting future work in the area.</p>

  </article>

</div>

      </div>
    </div>

    <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-968607-14']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </body>

</html>
